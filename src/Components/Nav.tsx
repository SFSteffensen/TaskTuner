import { useLocation } from '@solidjs/router'; // Import useLocation hook
import useCheckClientInitialized from '../hooks/useCheckClientInitialized';

function Nav() {
    const { pathname } = useLocation();

    function Navigate(path: string) {
        window.location.href = path;
    }

    if (pathname === '/login') {
        return null;
    } else {
        useCheckClientInitialized();
    }

    return (
        <div class="btm-nav left-0 right-0 bg-base-200 z-50">
            <button
                onMouseDown={() => Navigate('/')}
                class={pathname === '/' ? 'active' : ''} // Conditional class assignment
            >
                <svg
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    width="29.7949"
                    height="28.0957"
                >
                    <g>
                        <rect
                            height="28.0957"
                            opacity="0"
                            width="29.7949"
                            x="0"
                            y="0"
                        />
                        <path
                            d="M11.123 25.0781L18.3008 25.0781L18.3008 15.8008C18.3008 15.2539 17.9492 14.9023 17.4023 14.9023L12.0312 14.9023C11.4844 14.9023 11.123 15.2539 11.123 15.8008ZM6.19141 26.1621L23.1934 26.1621C24.9121 26.1621 25.8887 25.1953 25.8887 23.5059L25.8887 9.60938L24.1602 8.41797L24.1602 23.0859C24.1602 23.9746 23.7109 24.4336 22.8223 24.4336L6.55273 24.4336C5.67383 24.4336 5.22461 23.9746 5.22461 23.0859L5.22461 8.42773L3.49609 9.60938L3.49609 23.5059C3.49609 25.2051 4.47266 26.1621 6.19141 26.1621ZM0 12.1582C0 12.5977 0.341797 13.0078 0.927734 13.0078C1.2207 13.0078 1.46484 12.8516 1.67969 12.666L14.2578 2.11914C14.5508 1.85547 14.8926 1.83594 15.2148 2.11914L27.7637 12.666C27.9883 12.8516 28.2227 13.0078 28.5254 13.0078C29.0332 13.0078 29.4336 12.6953 29.4336 12.1875C29.4336 11.8652 29.3262 11.6406 29.0918 11.4453L16.1523 0.556641C15.2734-0.185547 14.209-0.185547 13.3203 0.556641L0.351562 11.4453C0.107422 11.6406 0 11.9043 0 12.1582ZM23.0176 6.89453L25.8887 9.32617L25.8887 3.51562C25.8887 3.02734 25.5664 2.71484 25.0781 2.71484L23.8379 2.71484C23.3496 2.71484 23.0176 3.02734 23.0176 3.51562Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                    </g>
                </svg>

                <span class="btm-nav-label">Dashboard</span>
            </button>

            <button
                onMouseDown={() => Navigate('/schedule')}
                class={pathname === '/schedule' ? 'active' : ''}
            >
                <svg
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="25.3809"
                    height="22.9785"
                >
                    <g>
                        <rect
                            height="22.9785"
                            opacity="0"
                            width="25.3809"
                            x="0"
                            y="0"
                        />
                        <path
                            d="M3.79883 22.9785L21.2109 22.9785C23.7402 22.9785 25.0195 21.709 25.0195 19.2188L25.0195 3.78906C25.0195 1.29883 23.7402 0.0292969 21.2109 0.0292969L3.79883 0.0292969C1.2793 0.0292969 0 1.28906 0 3.78906L0 19.2188C0 21.7188 1.2793 22.9785 3.79883 22.9785ZM3.66211 21.25C2.41211 21.25 1.72852 20.5859 1.72852 19.2969L1.72852 7.64648C1.72852 6.34766 2.41211 5.69336 3.66211 5.69336L21.3379 5.69336C22.5781 5.69336 23.2812 6.34766 23.2812 7.64648L23.2812 19.2969C23.2812 20.5859 22.5781 21.25 21.3379 21.25ZM10.0195 10.1855L10.7617 10.1855C11.1816 10.1855 11.2988 10.0684 11.2988 9.6582L11.2988 8.92578C11.2988 8.51562 11.1816 8.4082 10.7617 8.4082L10.0195 8.4082C9.60938 8.4082 9.49219 8.51562 9.49219 8.92578L9.49219 9.6582C9.49219 10.0684 9.60938 10.1855 10.0195 10.1855ZM14.2676 10.1855L15.0098 10.1855C15.4199 10.1855 15.5371 10.0684 15.5371 9.6582L15.5371 8.92578C15.5371 8.51562 15.4199 8.4082 15.0098 8.4082L14.2676 8.4082C13.8477 8.4082 13.7305 8.51562 13.7305 8.92578L13.7305 9.6582C13.7305 10.0684 13.8477 10.1855 14.2676 10.1855ZM18.5059 10.1855L19.248 10.1855C19.6582 10.1855 19.7852 10.0684 19.7852 9.6582L19.7852 8.92578C19.7852 8.51562 19.6582 8.4082 19.248 8.4082L18.5059 8.4082C18.0957 8.4082 17.9688 8.51562 17.9688 8.92578L17.9688 9.6582C17.9688 10.0684 18.0957 10.1855 18.5059 10.1855ZM5.78125 14.3555L6.52344 14.3555C6.93359 14.3555 7.06055 14.248 7.06055 13.8379L7.06055 13.0957C7.06055 12.6953 6.93359 12.5781 6.52344 12.5781L5.78125 12.5781C5.37109 12.5781 5.24414 12.6953 5.24414 13.0957L5.24414 13.8379C5.24414 14.248 5.37109 14.3555 5.78125 14.3555ZM10.0195 14.3555L10.7617 14.3555C11.1816 14.3555 11.2988 14.248 11.2988 13.8379L11.2988 13.0957C11.2988 12.6953 11.1816 12.5781 10.7617 12.5781L10.0195 12.5781C9.60938 12.5781 9.49219 12.6953 9.49219 13.0957L9.49219 13.8379C9.49219 14.248 9.60938 14.3555 10.0195 14.3555ZM14.2676 14.3555L15.0098 14.3555C15.4199 14.3555 15.5371 14.248 15.5371 13.8379L15.5371 13.0957C15.5371 12.6953 15.4199 12.5781 15.0098 12.5781L14.2676 12.5781C13.8477 12.5781 13.7305 12.6953 13.7305 13.0957L13.7305 13.8379C13.7305 14.248 13.8477 14.3555 14.2676 14.3555ZM18.5059 14.3555L19.248 14.3555C19.6582 14.3555 19.7852 14.248 19.7852 13.8379L19.7852 13.0957C19.7852 12.6953 19.6582 12.5781 19.248 12.5781L18.5059 12.5781C18.0957 12.5781 17.9688 12.6953 17.9688 13.0957L17.9688 13.8379C17.9688 14.248 18.0957 14.3555 18.5059 14.3555ZM5.78125 18.5352L6.52344 18.5352C6.93359 18.5352 7.06055 18.4277 7.06055 18.0176L7.06055 17.2754C7.06055 16.8652 6.93359 16.7578 6.52344 16.7578L5.78125 16.7578C5.37109 16.7578 5.24414 16.8652 5.24414 17.2754L5.24414 18.0176C5.24414 18.4277 5.37109 18.5352 5.78125 18.5352ZM10.0195 18.5352L10.7617 18.5352C11.1816 18.5352 11.2988 18.4277 11.2988 18.0176L11.2988 17.2754C11.2988 16.8652 11.1816 16.7578 10.7617 16.7578L10.0195 16.7578C9.60938 16.7578 9.49219 16.8652 9.49219 17.2754L9.49219 18.0176C9.49219 18.4277 9.60938 18.5352 10.0195 18.5352ZM14.2676 18.5352L15.0098 18.5352C15.4199 18.5352 15.5371 18.4277 15.5371 18.0176L15.5371 17.2754C15.5371 16.8652 15.4199 16.7578 15.0098 16.7578L14.2676 16.7578C13.8477 16.7578 13.7305 16.8652 13.7305 17.2754L13.7305 18.0176C13.7305 18.4277 13.8477 18.5352 14.2676 18.5352Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                    </g>
                </svg>

                <span class="btm-nav-label">Schedule</span>
            </button>

            <button
                onMouseDown={() => Navigate('/assignment')}
                class={pathname === '/assignment' ? 'active' : ''}
            >
                <svg
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="21.3281"
                    height="34.3262"
                >
                    <g>
                        <rect
                            height="34.3262"
                            opacity="0"
                            width="21.3281"
                            x="0"
                            y="0"
                        />
                        <path
                            d="M20.9668 8.50586L20.9668 27.8125C20.9668 30.3418 19.707 31.6113 17.207 31.6113L3.75977 31.6113C1.25977 31.6113 0 30.3418 0 27.8125L0 8.50586C0 5.97656 1.25977 4.69727 3.75977 4.69727L4.1728 4.69727C4.16434 4.78651 4.16016 4.87775 4.16016 4.9707L4.16016 6.2793C4.16016 6.33238 4.1615 6.3849 4.16704 6.43555L3.85742 6.43555C2.45117 6.43555 1.72852 7.17773 1.72852 8.53516L1.72852 27.7832C1.72852 29.1406 2.45117 29.8828 3.85742 29.8828L17.1094 29.8828C18.5156 29.8828 19.2383 29.1406 19.2383 27.7832L19.2383 8.53516C19.2383 7.17773 18.5156 6.43555 17.1094 6.43555L16.7998 6.43555C16.8053 6.3849 16.8066 6.33238 16.8066 6.2793L16.8066 4.9707C16.8066 4.87775 16.8025 4.78651 16.794 4.69727L17.207 4.69727C19.707 4.69727 20.9668 5.97656 20.9668 8.50586Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                        <path
                            d="M6.62109 7.41211L14.3457 7.41211C15.0293 7.41211 15.4492 6.99219 15.4492 6.2793L15.4492 4.9707C15.4492 4.25781 15.0293 3.83789 14.3457 3.83789L13.0859 3.83789C13.0176 2.4707 11.875 1.35742 10.4883 1.35742C9.0918 1.35742 7.94922 2.4707 7.88086 3.83789L6.62109 3.83789C5.9375 3.83789 5.51758 4.25781 5.51758 4.9707L5.51758 6.2793C5.51758 6.99219 5.9375 7.41211 6.62109 7.41211ZM10.4883 5.0293C9.86328 5.0293 9.36523 4.51172 9.36523 3.91602C9.36523 3.29102 9.86328 2.79297 10.4883 2.79297C11.1035 2.79297 11.6016 3.29102 11.6016 3.91602C11.6016 4.51172 11.1035 5.0293 10.4883 5.0293Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                        <path
                            d="M4.82422 23.7402L10.7031 23.7402C11.0742 23.7402 11.3867 23.4277 11.3867 23.0566C11.3867 22.6758 11.084 22.373 10.7031 22.373L4.82422 22.373C4.44336 22.373 4.14062 22.6758 4.14062 23.0566C4.14062 23.4277 4.45312 23.7402 4.82422 23.7402Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                        <path
                            d="M4.82422 18.9648L16.1426 18.9648C16.5234 18.9648 16.8262 18.6621 16.8262 18.2812C16.8262 17.9102 16.5234 17.6074 16.1426 17.6074L4.82422 17.6074C4.44336 17.6074 4.14062 17.9102 4.14062 18.2812C4.14062 18.6621 4.44336 18.9648 4.82422 18.9648Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                        <path
                            d="M4.82422 14.4531L16.1426 14.4531C16.5137 14.4531 16.8262 14.1406 16.8262 13.7695C16.8262 13.3984 16.5137 13.0859 16.1426 13.0859L4.82422 13.0859C4.45312 13.0859 4.14062 13.3984 4.14062 13.7695C4.14062 14.1406 4.45312 14.4531 4.82422 14.4531Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                    </g>
                </svg>
                <span>Opgaver</span>
            </button>

            <button
                onMouseDown={() => Navigate('/dm')}
                class={pathname === '/dm' ? 'active' : ''}
            >
                <svg
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="29.9512"
                    height="21.2012"
                >
                    <g>
                        <rect
                            height="21.2012"
                            opacity="0"
                            width="29.9512"
                            x="0"
                            y="0"
                        />
                        <path
                            d="M3.79883 21.2012L25.7812 21.2012C28.3105 21.2012 29.5898 19.9219 29.5898 17.4316L29.5898 10.5176C29.5898 9.49219 29.4238 9.01367 28.9355 8.35938L24.3457 2.2168C23.0664 0.488281 22.3438 0.0292969 20.2441 0.0292969L9.3457 0.0292969C7.24609 0.0292969 6.52344 0.488281 5.24414 2.2168L0.644531 8.35938C0.166016 9.01367 0 9.49219 0 10.5176L0 17.4316C0 19.9316 1.2793 21.2012 3.79883 21.2012ZM14.7949 14.0918C12.8711 14.0918 11.5918 12.4805 11.5918 10.8203L11.5918 10.7617C11.5918 10.2539 11.2891 9.79492 10.6738 9.79492L2.31445 9.79492C1.95312 9.79492 1.875 9.49219 2.05078 9.23828L6.93359 2.64648C7.51953 1.8457 8.24219 1.55273 9.19922 1.55273L20.3906 1.55273C21.3477 1.55273 22.0703 1.8457 22.6562 2.64648L27.5293 9.23828C27.7051 9.49219 27.627 9.79492 27.2656 9.79492L18.916 9.79492C18.3008 9.79492 17.998 10.2539 17.998 10.7617L17.998 10.8203C17.998 12.4805 16.7188 14.0918 14.7949 14.0918ZM20.1758 3.51562L9.41406 3.51562C9.10156 3.51562 8.86719 3.75 8.86719 4.05273C8.86719 4.36523 9.10156 4.60938 9.41406 4.60938L20.1758 4.60938C20.4785 4.60938 20.7129 4.36523 20.7129 4.05273C20.7129 3.75 20.4785 3.51562 20.1758 3.51562ZM21.9531 6.43555L7.63672 6.43555C7.31445 6.43555 7.07031 6.70898 7.07031 7.02148C7.07031 7.33398 7.31445 7.57812 7.63672 7.57812L21.9531 7.57812C22.2656 7.57812 22.5098 7.33398 22.5098 7.02148C22.5098 6.70898 22.2656 6.43555 21.9531 6.43555Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                    </g>
                </svg>
                <span class="btm-nav-label">Inbox</span>
            </button>

            <button
                onMouseDown={() => Navigate('/settings')}
                class={pathname === '/settings' ? 'active' : ''}
            >
                <svg
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="25.8008"
                    height="25.459"
                >
                    <g>
                        <rect
                            height="25.459"
                            opacity="0"
                            width="25.8008"
                            x="0"
                            y="0"
                        />
                        <path
                            d="M12.7148 25.4395C19.6777 25.4395 25.4395 19.6777 25.4395 12.7246C25.4395 5.76172 19.668 0 12.7051 0C5.75195 0 0 5.76172 0 12.7246C0 19.6777 5.76172 25.4395 12.7148 25.4395ZM12.7148 23.623C6.67969 23.623 1.82617 18.7598 1.82617 12.7246C1.82617 6.67969 6.66992 1.82617 12.7051 1.82617C18.75 1.82617 23.6133 6.67969 23.6133 12.7246C23.6133 18.7598 18.7598 23.623 12.7148 23.623Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                        <path
                            d="M18.5449 14.4531C19.502 14.4531 20.2832 13.6719 20.2832 12.7051C20.2832 11.748 19.502 10.9668 18.5449 10.9668C17.5781 10.9668 16.7969 11.748 16.7969 12.7051C16.7969 13.6719 17.5781 14.4531 18.5449 14.4531Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                        <path
                            d="M12.7051 14.4531C13.6719 14.4531 14.4531 13.6719 14.4531 12.7051C14.4531 11.748 13.6719 10.9668 12.7051 10.9668C11.748 10.9668 10.9668 11.748 10.9668 12.7051C10.9668 13.6719 11.748 14.4531 12.7051 14.4531Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                        <path
                            d="M6.875 14.4531C7.83203 14.4531 8.61328 13.6719 8.61328 12.7051C8.61328 11.748 7.82227 10.9668 6.875 10.9668C5.9082 10.9668 5.12695 11.748 5.12695 12.7051C5.12695 13.6719 5.9082 14.4531 6.875 14.4531Z"
                            fill="#000000"
                            fill-opacity="0.85"
                        />
                    </g>
                </svg>
                <span class="btm-nav-label">Mere</span>
            </button>
        </div>
    );
}

export default Nav;
