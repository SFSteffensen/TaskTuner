import { useStore } from "../store.ts";
import { useLocation } from "@solidjs/router"; // Import useLocation hook

function Nav() {
  const { isLoggedIn } = useStore();
  const { pathname } = useLocation(); // Get the current pathname

  function Navigate(path: string) {
    window.location.href = path;
  }

  return (
    isLoggedIn() ? (
      <div class="btm-nav">
        <button
          onClick={() => Navigate('/')}
          class={pathname === '/' ? 'active' : ''} // Conditional class assignment
        >
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="29.7949" height="28.0957">
            <g>
              <rect height="28.0957" opacity="0" width="29.7949" x="0" y="0" />
              <path d="M11.123 25.0781L18.3008 25.0781L18.3008 15.8008C18.3008 15.2539 17.9492 14.9023 17.4023 14.9023L12.0312 14.9023C11.4844 14.9023 11.123 15.2539 11.123 15.8008ZM6.19141 26.1621L23.1934 26.1621C24.9121 26.1621 25.8887 25.1953 25.8887 23.5059L25.8887 9.60938L24.1602 8.41797L24.1602 23.0859C24.1602 23.9746 23.7109 24.4336 22.8223 24.4336L6.55273 24.4336C5.67383 24.4336 5.22461 23.9746 5.22461 23.0859L5.22461 8.42773L3.49609 9.60938L3.49609 23.5059C3.49609 25.2051 4.47266 26.1621 6.19141 26.1621ZM0 12.1582C0 12.5977 0.341797 13.0078 0.927734 13.0078C1.2207 13.0078 1.46484 12.8516 1.67969 12.666L14.2578 2.11914C14.5508 1.85547 14.8926 1.83594 15.2148 2.11914L27.7637 12.666C27.9883 12.8516 28.2227 13.0078 28.5254 13.0078C29.0332 13.0078 29.4336 12.6953 29.4336 12.1875C29.4336 11.8652 29.3262 11.6406 29.0918 11.4453L16.1523 0.556641C15.2734-0.185547 14.209-0.185547 13.3203 0.556641L0.351562 11.4453C0.107422 11.6406 0 11.9043 0 12.1582ZM23.0176 6.89453L25.8887 9.32617L25.8887 3.51562C25.8887 3.02734 25.5664 2.71484 25.0781 2.71484L23.8379 2.71484C23.3496 2.71484 23.0176 3.02734 23.0176 3.51562Z" fill="#000000" fill-opacity="0.85" />
            </g>
          </svg>

          <span class="btm-nav-label">Dashboard</span>
        </button>

        <button
          onClick={() => Navigate('/schedule')}
          class={pathname === '/schedule' ? 'active' : ''} // Conditional class assignment
        >
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25.3809" height="22.9785">
            <g>
              <rect height="22.9785" opacity="0" width="25.3809" x="0" y="0" />
              <path d="M3.79883 22.9785L21.2109 22.9785C23.7402 22.9785 25.0195 21.709 25.0195 19.2188L25.0195 3.78906C25.0195 1.29883 23.7402 0.0292969 21.2109 0.0292969L3.79883 0.0292969C1.2793 0.0292969 0 1.28906 0 3.78906L0 19.2188C0 21.7188 1.2793 22.9785 3.79883 22.9785ZM3.66211 21.25C2.41211 21.25 1.72852 20.5859 1.72852 19.2969L1.72852 7.64648C1.72852 6.34766 2.41211 5.69336 3.66211 5.69336L21.3379 5.69336C22.5781 5.69336 23.2812 6.34766 23.2812 7.64648L23.2812 19.2969C23.2812 20.5859 22.5781 21.25 21.3379 21.25ZM10.0195 10.1855L10.7617 10.1855C11.1816 10.1855 11.2988 10.0684 11.2988 9.6582L11.2988 8.92578C11.2988 8.51562 11.1816 8.4082 10.7617 8.4082L10.0195 8.4082C9.60938 8.4082 9.49219 8.51562 9.49219 8.92578L9.49219 9.6582C9.49219 10.0684 9.60938 10.1855 10.0195 10.1855ZM14.2676 10.1855L15.0098 10.1855C15.4199 10.1855 15.5371 10.0684 15.5371 9.6582L15.5371 8.92578C15.5371 8.51562 15.4199 8.4082 15.0098 8.4082L14.2676 8.4082C13.8477 8.4082 13.7305 8.51562 13.7305 8.92578L13.7305 9.6582C13.7305 10.0684 13.8477 10.1855 14.2676 10.1855ZM18.5059 10.1855L19.248 10.1855C19.6582 10.1855 19.7852 10.0684 19.7852 9.6582L19.7852 8.92578C19.7852 8.51562 19.6582 8.4082 19.248 8.4082L18.5059 8.4082C18.0957 8.4082 17.9688 8.51562 17.9688 8.92578L17.9688 9.6582C17.9688 10.0684 18.0957 10.1855 18.5059 10.1855ZM5.78125 14.3555L6.52344 14.3555C6.93359 14.3555 7.06055 14.248 7.06055 13.8379L7.06055 13.0957C7.06055 12.6953 6.93359 12.5781 6.52344 12.5781L5.78125 12.5781C5.37109 12.5781 5.24414 12.6953 5.24414 13.0957L5.24414 13.8379C5.24414 14.248 5.37109 14.3555 5.78125 14.3555ZM10.0195 14.3555L10.7617 14.3555C11.1816 14.3555 11.2988 14.248 11.2988 13.8379L11.2988 13.0957C11.2988 12.6953 11.1816 12.5781 10.7617 12.5781L10.0195 12.5781C9.60938 12.5781 9.49219 12.6953 9.49219 13.0957L9.49219 13.8379C9.49219 14.248 9.60938 14.3555 10.0195 14.3555ZM14.2676 14.3555L15.0098 14.3555C15.4199 14.3555 15.5371 14.248 15.5371 13.8379L15.5371 13.0957C15.5371 12.6953 15.4199 12.5781 15.0098 12.5781L14.2676 12.5781C13.8477 12.5781 13.7305 12.6953 13.7305 13.0957L13.7305 13.8379C13.7305 14.248 13.8477 14.3555 14.2676 14.3555ZM18.5059 14.3555L19.248 14.3555C19.6582 14.3555 19.7852 14.248 19.7852 13.8379L19.7852 13.0957C19.7852 12.6953 19.6582 12.5781 19.248 12.5781L18.5059 12.5781C18.0957 12.5781 17.9688 12.6953 17.9688 13.0957L17.9688 13.8379C17.9688 14.248 18.0957 14.3555 18.5059 14.3555ZM5.78125 18.5352L6.52344 18.5352C6.93359 18.5352 7.06055 18.4277 7.06055 18.0176L7.06055 17.2754C7.06055 16.8652 6.93359 16.7578 6.52344 16.7578L5.78125 16.7578C5.37109 16.7578 5.24414 16.8652 5.24414 17.2754L5.24414 18.0176C5.24414 18.4277 5.37109 18.5352 5.78125 18.5352ZM10.0195 18.5352L10.7617 18.5352C11.1816 18.5352 11.2988 18.4277 11.2988 18.0176L11.2988 17.2754C11.2988 16.8652 11.1816 16.7578 10.7617 16.7578L10.0195 16.7578C9.60938 16.7578 9.49219 16.8652 9.49219 17.2754L9.49219 18.0176C9.49219 18.4277 9.60938 18.5352 10.0195 18.5352ZM14.2676 18.5352L15.0098 18.5352C15.4199 18.5352 15.5371 18.4277 15.5371 18.0176L15.5371 17.2754C15.5371 16.8652 15.4199 16.7578 15.0098 16.7578L14.2676 16.7578C13.8477 16.7578 13.7305 16.8652 13.7305 17.2754L13.7305 18.0176C13.7305 18.4277 13.8477 18.5352 14.2676 18.5352Z" fill="#000000" fill-opacity="0.85" />
            </g>
          </svg>

          <span class="btm-nav-label">Schedule</span>
        </button>

        <button onClick={() => Navigate('/settings')} class={pathname === '/settings' ? 'active' : ''}>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="27.627" height="26.8726">
            <g>
              <rect height="26.8726" opacity="0" width="27.627" x="0" y="0" />
              <path d="M13.623 25.2771C13.9453 25.2771 14.2676 25.2673 14.5801 25.238L15.2441 26.4978C15.3809 26.781 15.6445 26.9177 15.9961 26.8591C16.3281 26.8005 16.5234 26.5857 16.5625 26.2439L16.7773 24.8572C17.3828 24.6912 17.9883 24.4665 18.5645 24.2126L19.5996 25.1306C19.834 25.3357 20.1367 25.404 20.459 25.238C20.7324 25.0818 20.8594 24.7888 20.7715 24.4568L20.498 23.0896C20.9961 22.7283 21.5039 22.3181 21.9531 21.8787L23.2227 22.406C23.5449 22.533 23.8281 22.4646 24.082 22.1912C24.2871 21.9373 24.2969 21.6345 24.1309 21.3513L23.3887 20.1599C23.75 19.6521 24.0625 19.0857 24.3457 18.5095L25.7422 18.5681C26.0645 18.5876 26.3379 18.4314 26.4355 18.0896C26.5527 17.7869 26.4453 17.5037 26.1914 17.2986L25.1074 16.4197C25.2637 15.8142 25.3711 15.1892 25.4297 14.5349L26.7383 14.1052C27.0801 13.9978 27.2656 13.7634 27.2656 13.4314C27.2656 13.0896 27.0801 12.8552 26.7383 12.7478L25.4297 12.3279C25.3711 11.6736 25.2637 11.0486 25.1074 10.4333L26.1914 9.56421C26.4258 9.36889 26.543 9.09546 26.4355 8.78296C26.3379 8.44116 26.0645 8.28491 25.7422 8.30444L24.3457 8.35327C24.0625 7.76733 23.75 7.22046 23.3887 6.70288L24.1309 5.50171C24.2969 5.23803 24.2871 4.9353 24.082 4.68139C23.8281 4.39819 23.5449 4.3396 23.2324 4.46655L21.9531 4.97436C21.5039 4.55444 20.9961 4.13452 20.498 3.77319L20.7715 2.41577C20.8496 2.06421 20.7324 1.781 20.459 1.63452C20.1367 1.4685 19.8438 1.50756 19.5996 1.73217L18.5645 2.64038C17.9883 2.39624 17.3828 2.18139 16.7773 2.00561L16.5625 0.628658C16.5234 0.286861 16.3184 0.0720176 15.9863 0.0134239C15.6445-0.0451699 15.3809 0.0915489 15.2441 0.355221L14.5801 1.62475C14.2676 1.59546 13.9453 1.57592 13.623 1.57592C13.3008 1.57592 12.9883 1.59546 12.666 1.62475L12.002 0.355221C11.8652 0.0915489 11.6016-0.0451699 11.2598 0.0134239C10.918 0.0720176 10.7422 0.286861 10.6836 0.628658L10.4688 2.00561C9.86328 2.18139 9.26758 2.38647 8.67188 2.64038L7.65625 1.74194C7.40234 1.50756 7.10938 1.4685 6.78711 1.63452C6.51367 1.781 6.40625 2.06421 6.47461 2.41577L6.74805 3.77319C6.25 4.13452 5.74219 4.55444 5.29297 4.97436L4.01367 4.46655C3.70117 4.3396 3.41797 4.39819 3.16406 4.68139C2.96875 4.9353 2.93945 5.23803 3.11523 5.50171L3.85742 6.70288C3.50586 7.22046 3.20312 7.76733 2.90039 8.35327L1.51367 8.30444C1.18164 8.28491 0.917969 8.44116 0.810547 8.78296C0.703125 9.09546 0.800781 9.35913 1.05469 9.56421L2.14844 10.4333C1.98242 11.0486 1.875 11.6736 1.83594 12.3279L0.498047 12.7478C0.166016 12.8552 0 13.0896 0 13.4314C0 13.7732 0.166016 13.9978 0.498047 14.1052L1.83594 14.5349C1.875 15.1892 1.98242 15.8142 2.14844 16.4197L1.05469 17.2986C0.800781 17.4841 0.703125 17.7771 0.810547 18.0896C0.908203 18.4314 1.18164 18.5876 1.51367 18.5681L2.90039 18.5095C3.19336 19.0857 3.50586 19.6521 3.84766 20.1599L3.125 21.3513C2.95898 21.6345 2.95898 21.9373 3.16406 22.1912C3.41797 22.4646 3.70117 22.533 4.02344 22.406L5.29297 21.8787C5.74219 22.3181 6.25 22.7283 6.74805 23.0896L6.47461 24.4568C6.41602 24.7888 6.51367 25.0818 6.78711 25.238C7.10938 25.404 7.41211 25.3357 7.65625 25.1306L8.67188 24.2126C9.26758 24.4665 9.86328 24.6912 10.4688 24.8572L10.6836 26.2439C10.7422 26.5857 10.918 26.8005 11.2598 26.8591C11.6016 26.9177 11.8652 26.781 12.002 26.4978L12.666 25.238C12.9785 25.2673 13.3008 25.2771 13.623 25.2771ZM13.623 23.5486C7.98828 23.5486 3.64258 19.0759 3.64258 13.4412C3.64258 7.79663 7.98828 3.30444 13.623 3.30444C19.2676 3.30444 23.6328 7.79663 23.6328 13.4412C23.6328 19.0759 19.2676 23.5486 13.623 23.5486ZM11.5918 11.5173L12.8906 10.7165L8.64258 3.42163L7.29492 4.17358ZM16.3184 14.154L24.7754 14.154L24.7754 12.6404L16.3184 12.6404ZM12.9395 16.1658L11.6602 15.3455L7.20703 22.6501L8.53516 23.4314ZM13.6133 16.5662C15.3418 16.5662 16.7383 15.1794 16.7383 13.4509C16.7383 11.7224 15.3418 10.3162 13.6133 10.3162C11.8848 10.3162 10.4883 11.7224 10.4883 13.4509C10.4883 15.1794 11.8848 16.5662 13.6133 16.5662ZM13.6133 14.9451C12.7637 14.9451 12.1094 14.3103 12.1094 13.4509C12.1094 12.5915 12.7637 11.9373 13.6133 11.9373C14.4629 11.9373 15.127 12.5915 15.127 13.4509C15.127 14.3103 14.4629 14.9451 13.6133 14.9451Z" fill="#000000" fill-opacity="0.85" />
            </g>
          </svg>
          <span class="btm-nav-label">Settings</span>
        </button>
      </div>
    ) : null
  );
}

export default Nav;
